# ExamProjectSQL-ITstep-
ExamProjectSQL(ITstep)


Курс: 
Теория баз данных
Задание
Необходимо написать следующие запросы к базе данных 
«Книжный магазин»:
1. Показать все книги, количество страниц в которых больше 
500, но меньше 650.
2. Показать все книги, в которых первая буква названия либо 
«А», либо «З».
3. Показать все книги жанра «Детектив», количество проданных книг более 30 экземпляров.
4. Показать все книги, в названии которых есть слово «Microsoft», но нет слова «Windows».
5. Показать все книги (название, тематика, полное имя автора 
в одной ячейке), цена одной страницы которых меньше 
65 копеек.
6. Показать все книги, название которых состоит из 4 слов.
7. Показать информацию о продажах в следующем виде:
▷ Название книги, но, чтобы оно не содержало букву «А».
▷ Тематика, но, чтобы не «Программирование».
▷ Автор, но, чтобы не «Герберт Шилдт».
▷ Цена, но, чтобы в диапазоне от 10 до 20 гривен.
▷ Количество продаж, но не менее 8 книг.
▷ Название магазина, который продал книгу, но он не 
должен быть в Украине или России.
1
Экзаменационное задание
8. Показать следующую информацию в два столбца (числа 
в правом столбце приведены в качестве примера):
▷ Количество авторов: 14
▷ Количество книг: 47
▷ Средняя цена продажи: 85.43 грн.
▷ Среднее количество страниц: 650.6.
9. Показать тематики книг и сумму страниц всех книг по 
каждой из них.
10. Показать количество всех книг и сумму страниц этих книг 
по каждому из авторов.
11. Показать книгу тематики «Программирование» с наибольшим количеством страниц.
12. Показать среднее количество страниц по каждой тематике, 
которое не превышает 400.
13. Показать сумму страниц по каждой тематике, учитывая 
только книги с количеством страниц более 400, и чтобы 
тематики были «Программирование», «Администрирование» и «Дизайн».
14. Показать информацию о работе магазинов: что, где, кем, 
когда и в каком количестве было продано.
15. Показать самый прибыльный магазин.
2
Экзаменационное задание
Структура базы данных
Описание
База данных Книжный магазин (BookShop) содержит информацию о товаре и сделках сети книжных магазинов.
Книги, продаваемые в магазинах представлены в виде таблицы Книги (Books), в которой собрана основная информация, такая как: название, количество страниц, цена и дата 
публикации. Также для каждой книги хранится ее автор 
и тематика. При этом список всех авторов представлен таблицей Авторы (Authors), а все доступные тематики содержатся в таблице Тематики (Themes).
3
Экзаменационное задание
Для хранения всех проведенных в магазинах сделок (продаж книг) используется таблица Продажи (Sales), в которой 
описано что, где, когда, кем и за сколько было продано.
Сеть книжных магазинов представлена несколькими филиалами, которые расположены в разных странах. Для хранения данной информации присутствуют таблицы Магазины (Shops) и Страны (Countries).
Таблицы
Ниже представлено детальное описание структуры каждой таблицы.
1. Авторы (Authors)
■ Идентификатор (Id). Уникальный идентификатор автора.
▷ Тип данных — int.
▷ Авто приращение.
▷ Не может содержать null-значения.
▷ Первичный ключ.
■ Имя (Name). Имя автора.
▷ Тип данных — nvarchar(max).
▷ Не может содержать null-значения.
▷ Не может быть пустым.
■ Фамилия (Surname). Фамилия автора.
▷ Тип данных — nvarchar(max).
▷ Не может содержать null-значения.
▷ Не может быть пустым.
■ Идентификатор страны (CountryId). Страна, из которой 
родом автор.
4
Экзаменационное задание
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Внешний ключ.
2. Книги (Books)
■ Идентификатор (Id). Уникальный идентификатор 
книги.
▷ Тип данных — int.
▷ Авто приращение.
▷ Не может содержать null-значения.
▷ Первичный ключ.
■ Название (Name). Название книги.
▷ Тип данных — nvarchar(max).
▷ Не может содержать null-значения.
▷ Не может быть пустым.
■ Страницы (Pages). Количество страниц в книге.
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Не может быть меньше либо равно 0.
■ Цена (Price). Цена книги.
▷ Тип данных — money.
▷ Не может содержать null-значения.
▷ Не может быть меньше 0.
■ Дата публикации (PublishDate). Дата публикации книги.
▷ Тип данных — date.
▷ Не может содержать null-значения.
▷ Не может быть больше текущей даты.
5
Экзаменационное задание
■ Идентификатор автора (AuthorId). Автор книги.
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Внешний ключ.
■ Идентификатор тематики (ThemeId). Тематика книги.
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Внешний ключ.
3. Страны (Countries)
■ Идентификатор (Id). Уникальный идентификатор страны.
▷ Тип данных — int.
▷ Авто приращение.
▷ Не может содержать null-значения.
▷ Первичный ключ.
■ Название (Name). Название страны.
▷ Тип данных — nvarchar(50).
▷ Не может содержать null-значения.
▷ Не может быть пустым.
▷ Должно быть уникальным.
4. Продажи (Sales)
■ Идентификатор (Id). Уникальный идентификатор продажи.
▷ Тип данных — int.
▷ Авто приращение.
▷ Не может содержать null-значения.
▷ Первичный ключ.
6
Экзаменационное задание
■ Цена (Price). Цена продажи одного экземпляра книги.
▷ Тип данных — money.
▷ Не может содержать null-значения.
▷ Не может быть меньше 0.
■ Количество (Quantity). Количество проданных экземпляров книги.
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Не может быть меньше либо равно 0.
■ Дата продажи (SaleDate). Дата продажи.
▷ Тип данных — date.
▷ Не может содержать null-значения.
▷ Не может быть больше текущей даты.
▷ Значение по умолчанию — текущая дата.
■ Идентификатор книги (BookId). Проданная книга.
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Внешний ключ.
■ Идентификатор магазина (ShopId). Магазин, в котором 
была совершена продажа.
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Внешний ключ.
5. Магазины (Shops)
■ Идентификатор (Id). Уникальный идентификатор магазина.
7
Экзаменационное задание
▷ Тип данных — int.
▷ Авто приращение.
▷ Не может содержать null-значения.
▷ Первичный ключ.
■ Название (Name). Название магазина.
▷ Тип данных — nvarchar(max).
▷ Не может содержать null-значения.
▷ Не может быть пустым.
■ Идентификатор страны (CountryId). Страна, в которой 
находится магазин.
▷ Тип данных — int.
▷ Не может содержать null-значения.
▷ Внешний ключ.
6. Тематики (Themes)
■ Идентификатор (Id). Уникальный идентификатор тематики.
▷ Тип данных — int.
▷ Авто приращение.
▷ Не может содержать null-значения.
▷ Первичный ключ.
■ Название (Name). Название тематики.
▷ Тип данных — nvarchar(100).
▷ Не может содержать null-значения.
▷ Не может быть пустым.
▷ Должно быть уникальны
8
Экзаменационное задание
